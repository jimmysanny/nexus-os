{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jimmy/Desktop/nexus-os/components/PayWithPaystack.tsx"],"sourcesContent":["\"use client\";\n\nimport { PaystackButton } from \"react-paystack\";\nimport { toast } from \"sonner\";\n\ninterface PayWithPaystackProps {\n  amount: number;\n  email: string;\n  planId?: string; // <--- ADDED THIS LINE (The missing pocket)\n  onSuccess?: () => void;\n}\n\nexport default function PayWithPaystack({ amount, email, planId, onSuccess }: PayWithPaystackProps) {\n  const publicKey = process.env.NEXT_PUBLIC_PAYSTACK_PUBLIC_KEY;\n\n  if (!publicKey) {\n    console.error(\"CRITICAL ERROR: Paystack Key is missing.\");\n    return (\n      <div className=\"w-full p-4 bg-red-100 border border-red-400 text-red-700 rounded-md text-center\">\n        <p className=\"font-bold\">System Error: Payment Key Missing</p>\n      </div>\n    );\n  }\n\n  const componentProps = {\n    email,\n    amount: amount * 100,\n    publicKey,\n    text: \"Pay Now (Secure)\",\n    // We attach the ID here so you know WHICH product they bought\n    metadata: {\n      custom_fields: [\n        {\n          display_name: \"Product ID\",\n          variable_name: \"product_id\",\n          value: planId || \"unknown\",\n        },\n      ],\n    },\n    onSuccess: () => {\n      toast.success(\"Payment Received!\");\n      if (onSuccess) onSuccess();\n    },\n    onClose: () => toast.info(\"Payment cancelled\"),\n  };\n\n  return (\n    <div className=\"w-full\">\n      <PaystackButton \n        {...componentProps} \n        className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-md transition shadow-md flex items-center justify-center gap-2\" \n      />\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYe,SAAS,gBAAgB,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAwB;IAChG,MAAM;IAEN;;IASA,MAAM,iBAAiB;QACrB;QACA,QAAQ,SAAS;QACjB;QACA,MAAM;QACN,8DAA8D;QAC9D,UAAU;YACR,eAAe;gBACb;oBACE,cAAc;oBACd,eAAe;oBACf,OAAO,UAAU;gBACnB;aACD;QACH;QACA,WAAW;YACT,iJAAK,CAAC,OAAO,CAAC;YACd,IAAI,WAAW;QACjB;QACA,SAAS,IAAM,iJAAK,CAAC,IAAI,CAAC;IAC5B;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,0KAAc;YACZ,GAAG,cAAc;YAClB,WAAU;;;;;;;;;;;AAIlB"}}]
}