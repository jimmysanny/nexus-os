{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/jimmy/Desktop/nexus-os/components/PayWithPaystack.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react';\nimport { usePaystackPayment } from 'react-paystack';\n\nexport default function PayWithPaystack({ \n  amount, \n  email, \n  planId, \n  onSuccess \n}: { \n  amount: number, \n  email: string, \n  planId: string,\n  onSuccess?: () => void\n}) {\n  const publicKey = process.env.NEXT_PUBLIC_PAYSTACK_PUBLIC_KEY;\n\n  const config = {\n    reference: (new Date()).getTime().toString(),\n    email,\n    amount: amount * 100, // Paystack expects kobo\n    publicKey: publicKey || '',\n    metadata: {\n      funnelId: planId,\n      custom_fields: []\n    }\n  };\n\n  const initializePayment = usePaystackPayment(config);\n\n  const handleBuy = () => {\n    if (!publicKey) {\n        alert(\"Payment Key missing! Check configuration.\");\n        return;\n    }\n    \n    initializePayment({\n        onSuccess: (reference: any) => {\n            console.log(\"Payment Complete:\", reference);\n            if (onSuccess) onSuccess();\n        },\n        onClose: () => {\n            console.log(\"Payment cancelled\");\n        }\n    });\n  };\n\n  if (!publicKey) {\n      return <div className=\"text-red-500 text-sm\">System Error: No Payment Key</div>;\n  }\n\n  return (\n    <div className=\"w-full\">\n      <button \n        onClick={handleBuy}\n        className=\"w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-4 rounded-lg transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n      >\n        Buy Now (Secure)\n      </button>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAgBoB;;AAbpB;;;AAHA;;AAKe,SAAS,gBAAgB,EACtC,MAAM,EACN,KAAK,EACL,MAAM,EACN,SAAS,EAMV;;IACC,MAAM;IAEN,MAAM,SAAS;QACb,WAAW,AAAC,IAAI,OAAQ,OAAO,GAAG,QAAQ;QAC1C;QACA,QAAQ,SAAS;QACjB,WAAW,aAAa;QACxB,UAAU;YACR,UAAU;YACV,eAAe,EAAE;QACnB;IACF;IAEA,MAAM,oBAAoB,IAAA,iLAAkB,EAAC;IAE7C,MAAM,YAAY;QAChB;;QAKA,kBAAkB;YACd,WAAW,CAAC;gBACR,QAAQ,GAAG,CAAC,qBAAqB;gBACjC,IAAI,WAAW;YACnB;YACA,SAAS;gBACL,QAAQ,GAAG,CAAC;YAChB;QACJ;IACF;IAEA;;IAIA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YACC,SAAS;YACT,WAAU;sBACX;;;;;;;;;;;AAKP;GAzDwB;;QAwBI,iLAAkB;;;KAxBtB"}}]
}